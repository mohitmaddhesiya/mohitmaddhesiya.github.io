/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import * as d3 from 'd3';
var O2Common = /** @class */ (function () {
    function O2Common(svgContainer, configData, autoMaxX, autoMaxY, svgWidth, svgHeight) {
        this.svgContainer = svgContainer;
        this.configData = configData;
        this.autoMaxX = autoMaxX;
        this.autoMaxY = autoMaxY;
        this.svgWidth = svgWidth;
        this.svgHeight = svgHeight;
    }
    Object.defineProperty(O2Common.prototype, "axisClassName", {
        get: /**
         * @return {?}
         */
        function () {
            return this.configData.className.axis;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "lineClassName", {
        get: /**
         * @return {?}
         */
        function () {
            return this.configData.className.line;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "axisXBorderLineClassName", {
        get: /**
         * @return {?}
         */
        function () {
            return this.configData.className.axisXBorder;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "maxXValue", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _maxX = this.autoMaxX;
            if (!this.configData.maxValue.auto) {
                _maxX = this.configData.maxValue.x;
            }
            return _maxX;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "maxYValue", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _maxY = this.autoMaxY;
            if (!this.configData.maxValue.auto) {
                _maxY = this.configData.maxValue.y;
            }
            return _maxY;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "graphInitXPos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _intX = this.configData.margin.left;
            if (this.configData.legend.display && this.configData.legend.position !== 'right') {
                _intX = this.configData.margin.left
                    + this.configData.legend.totalWidth;
            }
            return _intX;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "graphInitYPos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _intY = this.configData.margin.top
                + this.configData.title.height;
            return _intY;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "graphYScale", {
        get: /**
         * @return {?}
         */
        function () {
            return this.graphHeight / this.maxYValue;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "graphXScale", {
        get: /**
         * @return {?}
         */
        function () {
            return this.graphWidth / this.maxXValue;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "graphWidth", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _margin = this.configData.margin.left
                + this.configData.margin.right;
            if (this.configData.legend.display) {
                _margin += this.configData.legend.totalWidth;
            }
            return this.svgWidth - _margin;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "graphHeight", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _h = this.svgHeight
                - this.configData.title.height
                - this.configData.margin.top
                - this.configData.margin.bottom;
            return _h;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "graphCenterPos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _xyArray = new Array();
            var /** @type {?} */ _x = this.configData.margin.left
                + this.graphWidth / 2;
            var /** @type {?} */ _y = this.configData.margin.top
                + this.configData.title.height
                + this.graphHeight / 2;
            _xyArray.push(_x);
            _xyArray.push(_y);
            return _xyArray;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "graphCenterTranslatePos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _x = this.configData.margin.left
                + this.graphWidth / 2;
            var /** @type {?} */ _y = this.configData.margin.top
                + this.configData.title.height
                + this.graphHeight / 2;
            return 'translate(' + String(_x) + ', ' + String(_y) + ')';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "graphInitTranslatePos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _x = this.graphInitXPos;
            var /** @type {?} */ _y = this.graphInitYPos;
            return 'translate(' + String(_x) + ', ' + String(_y) + ')';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "axisXLabelInitXPos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _x = this.configData.margin.left
                + this.configData.axis.xLabel.leftMargin;
            return _x;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "axisXLabelInitYPos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _y = this.svgHeight
                - this.configData.axis.xLabel.bottomMargin;
            return _y;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "axisTranslatePos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _x = this.configData.margin.left;
            var /** @type {?} */ _y = this.configData.margin.top
                + this.configData.title.height;
            return 'translate(' + String(_x) + ', ' + String(_y) + ')';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "axisXBorderLineWidth", {
        get: /**
         * @return {?}
         */
        function () {
            return this.configData.axis.borderLineWidth;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "axisYBorderHeight", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _margin = this.configData.margin.top
                + this.configData.margin.bottom
                + this.configData.title.height;
            return this.svgHeight - _margin;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "axisXBorderWidth", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _margin = this.configData.margin.left
                + this.configData.margin.right;
            if (this.configData.legend.display) {
                _margin += this.configData.legend.totalWidth;
            }
            return this.svgWidth - _margin;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "axisYOrient", {
        get: /**
         * @return {?}
         */
        function () {
            return 'left';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "axisXOrient", {
        get: /**
         * @return {?}
         */
        function () {
            return 'bottom';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "axisXBorderTranslatePos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ sYpos = String(this.svgHeight - this.configData.margin.bottom);
            return 'translate(' + this.configData.margin.left + ', ' + sYpos + ')';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "innerRadiusPercent", {
        get: /**
         * @return {?}
         */
        function () {
            return this.configData.pie.innerRadius.percent;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "innerRadiusTitle", {
        get: /**
         * @return {?}
         */
        function () {
            return this.configData.pie.innerRadius.title;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "innerRadiusTitleTranslatePos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _x = this.configData.margin.left
                + this.graphWidth / 2;
            var /** @type {?} */ _y = this.configData.margin.top
                + this.configData.title.height
                + this.graphHeight / 2
                + 5;
            return 'translate(' + String(_x) + ', ' + String(_y) + ')';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "legendInitXPos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _x = this.configData.margin.left
                + this.graphWidth
                + this.configData.legend.initXPos;
            if (this.configData.legend.position !== 'right') {
                _x = this.configData.margin.left
                    + this.configData.legend.initXPos;
            }
            return _x;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "legendInitYPos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _y = this.configData.margin.top
                + this.configData.title.height
                + this.configData.legend.initYPos;
            return _y;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "gridYStep", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _maxY = Math.ceil(this.maxYValue / 100) * 10;
            var /** @type {?} */ _lineNum = 10;
            var /** @type {?} */ _step = Math.ceil(_maxY / _lineNum) * _lineNum;
            return _step;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "gridXStep", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _maxX = Math.ceil(this.maxXValue / 100) * 10;
            var /** @type {?} */ _lineNum = 10;
            var /** @type {?} */ _step = Math.ceil(_maxX / _lineNum) * _lineNum;
            return _step;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "titleInitXPos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _x = this.configData.margin.left
                + (this.graphWidth + this.configData.legend.totalWidth) / 2
                + this.configData.title.leftMargin;
            return _x;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "titleInitYPos", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _y = this.configData.margin.top
                + this.configData.title.height
                - this.configData.title.bottomMargin;
            return _y;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(O2Common.prototype, "defaultColorFunc", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ _color;
            if (this.configData.color.auto) {
                if (this.configData.color.defaultColorNumber === '20') {
                    _color = d3.scaleOrdinal(d3.schemeCategory20);
                }
                else {
                    _color = d3.scaleOrdinal(d3.schemeCategory10);
                }
            }
            return _color;
        },
        enumerable: true,
        configurable: true
    });
    return O2Common;
}());
export { O2Common };
function O2Common_tsickle_Closure_declarations() {
    /** @type {?} */
    O2Common.prototype.svgContainer;
    /** @type {?} */
    O2Common.prototype.configData;
    /** @type {?} */
    O2Common.prototype.autoMaxX;
    /** @type {?} */
    O2Common.prototype.autoMaxY;
    /** @type {?} */
    O2Common.prototype.svgWidth;
    /** @type {?} */
    O2Common.prototype.svgHeight;
}
var O2LineData = /** @class */ (function () {
    function O2LineData(data, color, dashedArray, interpolate) {
        this.data = data;
        this.color = color;
        this.dashedArray = dashedArray;
        this.interpolate = interpolate;
    }
    return O2LineData;
}());
export { O2LineData };
function O2LineData_tsickle_Closure_declarations() {
    /** @type {?} */
    O2LineData.prototype.data;
    /** @type {?} */
    O2LineData.prototype.color;
    /** @type {?} */
    O2LineData.prototype.dashedArray;
    /** @type {?} */
    O2LineData.prototype.interpolate;
}
var O2LegendData = /** @class */ (function () {
    function O2LegendData(title, color) {
        this.title = title;
        this.color = color;
    }
    return O2LegendData;
}());
export { O2LegendData };
function O2LegendData_tsickle_Closure_declarations() {
    /** @type {?} */
    O2LegendData.prototype.title;
    /** @type {?} */
    O2LegendData.prototype.color;
}
var O2ScatterPlotData = /** @class */ (function () {
    function O2ScatterPlotData(x, y, r) {
        this.x = x;
        this.y = y;
        this.r = r;
    }
    return O2ScatterPlotData;
}());
export { O2ScatterPlotData };
function O2ScatterPlotData_tsickle_Closure_declarations() {
    /** @type {?} */
    O2ScatterPlotData.prototype.x;
    /** @type {?} */
    O2ScatterPlotData.prototype.y;
    /** @type {?} */
    O2ScatterPlotData.prototype.r;
}
var O2StackBarData = /** @class */ (function () {
    function O2StackBarData(x, y) {
        this.x = x;
        this.y = y;
    }
    return O2StackBarData;
}());
export { O2StackBarData };
function O2StackBarData_tsickle_Closure_declarations() {
    /** @type {?} */
    O2StackBarData.prototype.x;
    /** @type {?} */
    O2StackBarData.prototype.y;
}
var O2IdValueData = /** @class */ (function () {
    function O2IdValueData(id, value) {
        this.id = id;
        this.value = value;
    }
    return O2IdValueData;
}());
export { O2IdValueData };
function O2IdValueData_tsickle_Closure_declarations() {
    /** @type {?} */
    O2IdValueData.prototype.id;
    /** @type {?} */
    O2IdValueData.prototype.value;
}
// export class O2KeyValueData {
//     constructor(
//        public key: string,
// 	   public value: number
//        ) { }
// }
// export class O2DateKVArrayData {
//     constructor(
//        public date: Date,
// 	   public kvArray: Array<O2KeyValueData>
//        ) { }
// }
// export class O2DateStKVArrayData {
//     constructor(
//        public dateSt: string,
// 	   public kvArray: Array<O2KeyValueData>
//        ) { }
// }

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibzJjb21tb24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZzYtbzItY2hhcnQvIiwic291cmNlcyI6WyJsaWIvc2hhcmVkL28yY29tbW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEtBQUssRUFBRSxNQUFNLElBQUksQ0FBQztBQUl6QixJQUFBO0lBRUksa0JBQ1csY0FDQSxZQUNBLFVBQ0EsVUFDQSxVQUNBO1FBTEEsaUJBQVksR0FBWixZQUFZO1FBQ1osZUFBVSxHQUFWLFVBQVU7UUFDVixhQUFRLEdBQVIsUUFBUTtRQUNSLGFBQVEsR0FBUixRQUFRO1FBQ1IsYUFBUSxHQUFSLFFBQVE7UUFDUixjQUFTLEdBQVQsU0FBUztLQUNmOzBCQUtFLG1DQUFhOzs7OztZQUNwQixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDOzs7OzswQkFHL0IsbUNBQWE7Ozs7O1lBQ3BCLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7Ozs7OzBCQUcvQiw4Q0FBd0I7Ozs7O1lBQy9CLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUM7Ozs7OzBCQVF0QywrQkFBUzs7Ozs7WUFDaEIscUJBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDMUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNqQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2FBQ3RDO1lBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQzs7Ozs7MEJBR04sK0JBQVM7Ozs7O1lBQ2hCLHFCQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQzFCLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FB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Ozs7Ozs7O0FBR0QsSUFBQTtJQUNBLHNCQUNVLE9BQ0M7UUFERCxVQUFLLEdBQUwsS0FBSztRQUNKLFVBQUssR0FBTCxLQUFLO0tBQWM7dUJBN1I5QjtJQStSQyxDQUFBO0FBTEQsd0JBS0M7Ozs7Ozs7QUFFRCxJQUFBO0lBQ0EsMkJBQ1UsR0FDQSxHQUNBO1FBRkEsTUFBQyxHQUFELENBQUM7UUFDRCxNQUFDLEdBQUQsQ0FBQztRQUNELE1BQUMsR0FBRCxDQUFDO0tBQWM7NEJBclN6QjtJQXVTQyxDQUFBO0FBTkQsNkJBTUM7Ozs7Ozs7OztBQUVELElBQUE7SUFDQSx3QkFDVSxHQUNBO1FBREEsTUFBQyxHQUFELENBQUM7UUFDRCxNQUFDLEdBQUQsQ0FBQztLQUNIO3lCQTdTUjtJQStTQyxDQUFBO0FBTkQsMEJBTUM7Ozs7Ozs7QUFFRCxJQUFBO0lBQ0EsdUJBQ1UsSUFDQztRQURELE9BQUUsR0FBRixFQUFFO1FBQ0QsVUFBSyxHQUFMLEtBQUs7S0FDUjt3QkFyVFI7SUF1VEMsQ0FBQTtBQU5ELHlCQU1DIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTzJDb21tb24ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyBzdmdDb250YWluZXI6IGFueSxcclxuICAgICAgICBwdWJsaWMgY29uZmlnRGF0YTogYW55LFxyXG4gICAgICAgIHB1YmxpYyBhdXRvTWF4WDogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyBhdXRvTWF4WTogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyBzdmdXaWR0aDogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyBzdmdIZWlnaHQ6IG51bWJlclxyXG4gICAgKSB7IH1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLS0tLSAgQ0xBU1MgTkFNRSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnB1YmxpYyBnZXQgYXhpc0NsYXNzTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uZmlnRGF0YS5jbGFzc05hbWUuYXhpcztcclxufVxyXG5cclxucHVibGljIGdldCBsaW5lQ2xhc3NOYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5jb25maWdEYXRhLmNsYXNzTmFtZS5saW5lO1xyXG59XHJcblxyXG5wdWJsaWMgZ2V0IGF4aXNYQm9yZGVyTGluZUNsYXNzTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uZmlnRGF0YS5jbGFzc05hbWUuYXhpc1hCb3JkZXI7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAtLS0tICBNQVggVkFMVUUgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxucHVibGljIGdldCBtYXhYVmFsdWUoKTogbnVtYmVyIHtcclxuICAgIGxldCBfbWF4WCA9IHRoaXMuYXV0b01heFg7XHJcbiAgICBpZiAoIXRoaXMuY29uZmlnRGF0YS5tYXhWYWx1ZS5hdXRvKSB7XHJcbiAgICAgICAgX21heFggPSB0aGlzLmNvbmZpZ0RhdGEubWF4VmFsdWUueDtcclxuICAgIH1cclxuICAgIHJldHVybiBfbWF4WDtcclxufVxyXG5cclxucHVibGljIGdldCBtYXhZVmFsdWUoKTogbnVtYmVyIHtcclxuICAgIGxldCBfbWF4WSA9IHRoaXMuYXV0b01heFk7XHJcbiAgICBpZiAoIXRoaXMuY29uZmlnRGF0YS5tYXhWYWx1ZS5hdXRvKSB7XHJcbiAgICAgICAgX21heFkgPSB0aGlzLmNvbmZpZ0RhdGEubWF4VmFsdWUueTtcclxuICAgIH1cclxuICAgIHJldHVybiBfbWF4WTtcclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAtLS0tICBHUkFQSCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxucHVibGljIGdldCBncmFwaEluaXRYUG9zKCk6IG51bWJlciB7XHJcbiAgICBsZXQgX2ludFggPSB0aGlzLmNvbmZpZ0RhdGEubWFyZ2luLmxlZnQ7XHJcbiAgICBpZiAodGhpcy5jb25maWdEYXRhLmxlZ2VuZC5kaXNwbGF5ICYmIHRoaXMuY29uZmlnRGF0YS5sZWdlbmQucG9zaXRpb24gIT09ICdyaWdodCcpIHtcclxuICAgICAgICBfaW50WCA9IHRoaXMuY29uZmlnRGF0YS5tYXJnaW4ubGVmdFxyXG4gICAgICAgICAgICAgICAgICAgICsgdGhpcy5jb25maWdEYXRhLmxlZ2VuZC50b3RhbFdpZHRoO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9pbnRYO1xyXG59XHJcblxyXG5wdWJsaWMgZ2V0IGdyYXBoSW5pdFlQb3MoKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IF9pbnRZID0gdGhpcy5jb25maWdEYXRhLm1hcmdpbi50b3BcclxuICAgICAgICAgICAgICAgICsgdGhpcy5jb25maWdEYXRhLnRpdGxlLmhlaWdodDtcclxuICAgIHJldHVybiBfaW50WTtcclxufVxyXG5cclxucHVibGljIGdldCBncmFwaFlTY2FsZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZ3JhcGhIZWlnaHQgLyB0aGlzLm1heFlWYWx1ZTtcclxufVxyXG5cclxucHVibGljIGdldCBncmFwaFhTY2FsZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZ3JhcGhXaWR0aCAvIHRoaXMubWF4WFZhbHVlO1xyXG59XHJcblxyXG5wdWJsaWMgZ2V0IGdyYXBoV2lkdGgoKTogbnVtYmVyIHtcclxuICAgIGxldCBfbWFyZ2luID0gdGhpcy5jb25maWdEYXRhLm1hcmdpbi5sZWZ0XHJcbiAgICAgICAgICAgICAgICAgKyB0aGlzLmNvbmZpZ0RhdGEubWFyZ2luLnJpZ2h0O1xyXG4gICAgaWYgKHRoaXMuY29uZmlnRGF0YS5sZWdlbmQuZGlzcGxheSkge1xyXG4gICAgICAgIF9tYXJnaW4gKz0gdGhpcy5jb25maWdEYXRhLmxlZ2VuZC50b3RhbFdpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnN2Z1dpZHRoIC0gX21hcmdpbjtcclxufVxyXG5cclxucHVibGljIGdldCBncmFwaEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgY29uc3QgX2ggPSB0aGlzLnN2Z0hlaWdodFxyXG4gICAgICAgICAgICAgICAgLSB0aGlzLmNvbmZpZ0RhdGEudGl0bGUuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAtIHRoaXMuY29uZmlnRGF0YS5tYXJnaW4udG9wXHJcbiAgICAgICAgICAgICAgICAtIHRoaXMuY29uZmlnRGF0YS5tYXJnaW4uYm90dG9tO1xyXG4gICAgcmV0dXJuIF9oO1xyXG59XHJcblxyXG5wdWJsaWMgZ2V0IGdyYXBoQ2VudGVyUG9zKCk6IGFueSB7XHJcbiAgICBjb25zdCBfeHlBcnJheTogQXJyYXk8bnVtYmVyPiA9IG5ldyBBcnJheSgpO1xyXG4gICAgY29uc3QgX3ggPSB0aGlzLmNvbmZpZ0RhdGEubWFyZ2luLmxlZnRcclxuICAgICAgICAgICAgICAgICsgdGhpcy5ncmFwaFdpZHRoIC8gMjtcclxuICAgIGNvbnN0IF95ID0gdGhpcy5jb25maWdEYXRhLm1hcmdpbi50b3BcclxuICAgICAgICAgICAgKyB0aGlzLmNvbmZpZ0RhdGEudGl0bGUuaGVpZ2h0XHJcbiAgICAgICAgICAgICsgdGhpcy5ncmFwaEhlaWdodCAvIDI7XHJcbiAgICBfeHlBcnJheS5wdXNoKF94KTtcclxuICAgIF94eUFycmF5LnB1c2goX3kpO1xyXG4gICAgcmV0dXJuIF94eUFycmF5O1xyXG59XHJcblxyXG5wdWJsaWMgZ2V0IGdyYXBoQ2VudGVyVHJhbnNsYXRlUG9zKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBfeCA9IHRoaXMuY29uZmlnRGF0YS5tYXJnaW4ubGVmdFxyXG4gICAgICAgICAgICArIHRoaXMuZ3JhcGhXaWR0aCAvIDI7XHJcbiAgICBjb25zdCBfeSA9IHRoaXMuY29uZmlnRGF0YS5tYXJnaW4udG9wXHJcbiAgICAgICAgICAgICsgdGhpcy5jb25maWdEYXRhLnRpdGxlLmhlaWdodFxyXG4gICAgICAgICAgICArIHRoaXMuZ3JhcGhIZWlnaHQgLyAyO1xyXG4gICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIFN0cmluZyhfeCkgKyAnLCAnICsgU3RyaW5nKF95KSArICcpJztcclxufVxyXG5cclxucHVibGljIGdldCBncmFwaEluaXRUcmFuc2xhdGVQb3MoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IF94ID0gdGhpcy5ncmFwaEluaXRYUG9zO1xyXG4gICAgY29uc3QgX3kgPSB0aGlzLmdyYXBoSW5pdFlQb3M7XHJcbiAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgU3RyaW5nKF94KSArICcsICcgKyBTdHJpbmcoX3kpICsgJyknO1xyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIC0tLS0gIEFYSVMgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5wdWJsaWMgZ2V0IGF4aXNYTGFiZWxJbml0WFBvcygpOiBudW1iZXIge1xyXG4gICAgY29uc3QgX3ggPSB0aGlzLmNvbmZpZ0RhdGEubWFyZ2luLmxlZnRcclxuICAgICAgICAgICAgKyB0aGlzLmNvbmZpZ0RhdGEuYXhpcy54TGFiZWwubGVmdE1hcmdpbjtcclxuICAgIHJldHVybiBfeDtcclxufVxyXG5cclxucHVibGljIGdldCBheGlzWExhYmVsSW5pdFlQb3MoKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IF95ID0gdGhpcy5zdmdIZWlnaHRcclxuICAgICAgICAgICAgLSB0aGlzLmNvbmZpZ0RhdGEuYXhpcy54TGFiZWwuYm90dG9tTWFyZ2luO1xyXG4gICAgcmV0dXJuIF95O1xyXG59XHJcblxyXG5wdWJsaWMgZ2V0IGF4aXNUcmFuc2xhdGVQb3MoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IF94ID0gdGhpcy5jb25maWdEYXRhLm1hcmdpbi5sZWZ0O1xyXG4gICAgY29uc3QgX3kgPSB0aGlzLmNvbmZpZ0RhdGEubWFyZ2luLnRvcFxyXG4gICAgICAgICAgICArIHRoaXMuY29uZmlnRGF0YS50aXRsZS5oZWlnaHQ7XHJcbiAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgU3RyaW5nKF94KSArICcsICcgKyBTdHJpbmcoX3kpICsgJyknO1xyXG59XHJcblxyXG5cclxucHVibGljIGdldCBheGlzWEJvcmRlckxpbmVXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uZmlnRGF0YS5heGlzLmJvcmRlckxpbmVXaWR0aDtcclxufVxyXG5cclxucHVibGljIGdldCBheGlzWUJvcmRlckhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgY29uc3QgX21hcmdpbiA9IHRoaXMuY29uZmlnRGF0YS5tYXJnaW4udG9wXHJcbiAgICAgICAgICAgICAgICAgICAgKyB0aGlzLmNvbmZpZ0RhdGEubWFyZ2luLmJvdHRvbVxyXG4gICAgICAgICAgICAgICAgICAgICsgdGhpcy5jb25maWdEYXRhLnRpdGxlLmhlaWdodDtcclxuICAgIHJldHVybiB0aGlzLnN2Z0hlaWdodCAtIF9tYXJnaW47XHJcbn1cclxuXHJcbnB1YmxpYyBnZXQgYXhpc1hCb3JkZXJXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgbGV0IF9tYXJnaW4gPSB0aGlzLmNvbmZpZ0RhdGEubWFyZ2luLmxlZnRcclxuICAgICAgICAgICAgICAgICArIHRoaXMuY29uZmlnRGF0YS5tYXJnaW4ucmlnaHQ7XHJcbiAgICBpZiAodGhpcy5jb25maWdEYXRhLmxlZ2VuZC5kaXNwbGF5KSB7XHJcbiAgICAgICAgX21hcmdpbiArPSB0aGlzLmNvbmZpZ0RhdGEubGVnZW5kLnRvdGFsV2lkdGg7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5zdmdXaWR0aCAtIF9tYXJnaW47XHJcbn1cclxuXHJcbnB1YmxpYyBnZXQgYXhpc1lPcmllbnQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnbGVmdCc7XHJcbn1cclxuXHJcbnB1YmxpYyBnZXQgYXhpc1hPcmllbnQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnYm90dG9tJztcclxufVxyXG5wdWJsaWMgZ2V0IGF4aXNYQm9yZGVyVHJhbnNsYXRlUG9zKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBzWXBvcyA9IFN0cmluZyh0aGlzLnN2Z0hlaWdodCAtIHRoaXMuY29uZmlnRGF0YS5tYXJnaW4uYm90dG9tKTtcclxuICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyB0aGlzLmNvbmZpZ0RhdGEubWFyZ2luLmxlZnQgKyAnLCAnICsgc1lwb3MgKyAnKSc7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAtLS0tICBSQURJVVMgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5wdWJsaWMgZ2V0IGlubmVyUmFkaXVzUGVyY2VudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uZmlnRGF0YS5waWUuaW5uZXJSYWRpdXMucGVyY2VudDtcclxufVxyXG5cclxucHVibGljIGdldCBpbm5lclJhZGl1c1RpdGxlKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5jb25maWdEYXRhLnBpZS5pbm5lclJhZGl1cy50aXRsZTtcclxufVxyXG5cclxucHVibGljIGdldCBpbm5lclJhZGl1c1RpdGxlVHJhbnNsYXRlUG9zKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBfeCA9IHRoaXMuY29uZmlnRGF0YS5tYXJnaW4ubGVmdFxyXG4gICAgICAgICAgICAgICAgKyB0aGlzLmdyYXBoV2lkdGggLyAyO1xyXG4gICAgY29uc3QgX3kgPSB0aGlzLmNvbmZpZ0RhdGEubWFyZ2luLnRvcFxyXG4gICAgICAgICAgICArIHRoaXMuY29uZmlnRGF0YS50aXRsZS5oZWlnaHRcclxuICAgICAgICAgICAgKyB0aGlzLmdyYXBoSGVpZ2h0IC8gMlxyXG4gICAgICAgICAgICArIDU7XHJcbiAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgU3RyaW5nKF94KSArICcsICcgKyBTdHJpbmcoX3kpICsgJyknO1xyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIC0tLS0gIExFR0VORCAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnB1YmxpYyBnZXQgbGVnZW5kSW5pdFhQb3MoKTogbnVtYmVyIHtcclxuICAgIGxldCBfeCA9IHRoaXMuY29uZmlnRGF0YS5tYXJnaW4ubGVmdFxyXG4gICAgICAgICAgICAgICAgKyB0aGlzLmdyYXBoV2lkdGhcclxuICAgICAgICAgICAgICAgICsgdGhpcy5jb25maWdEYXRhLmxlZ2VuZC5pbml0WFBvcyA7XHJcbiAgICBpZiAodGhpcy5jb25maWdEYXRhLmxlZ2VuZC5wb3NpdGlvbiAhPT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgIF94ID0gdGhpcy5jb25maWdEYXRhLm1hcmdpbi5sZWZ0XHJcbiAgICAgICAgICAgICArIHRoaXMuY29uZmlnRGF0YS5sZWdlbmQuaW5pdFhQb3MgO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF94O1xyXG59XHJcblxyXG5wdWJsaWMgZ2V0IGxlZ2VuZEluaXRZUG9zKCk6IG51bWJlciB7XHJcbiAgICBjb25zdCBfeSA9IHRoaXMuY29uZmlnRGF0YS5tYXJnaW4udG9wXHJcbiAgICAgICAgICAgICsgdGhpcy5jb25maWdEYXRhLnRpdGxlLmhlaWdodFxyXG4gICAgICAgICAgICArIHRoaXMuY29uZmlnRGF0YS5sZWdlbmQuaW5pdFlQb3M7XHJcbiAgICByZXR1cm4gX3k7XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLS0tLSAgR1JJRCAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnB1YmxpYyBnZXQgZ3JpZFlTdGVwKCk6IG51bWJlciB7XHJcbiAgICBjb25zdCBfbWF4WSA9IE1hdGguY2VpbCh0aGlzLm1heFlWYWx1ZSAvIDEwMCkgKiAxMDtcclxuICAgIGNvbnN0IF9saW5lTnVtID0gMTA7XHJcbiAgICBjb25zdCBfc3RlcCA9IE1hdGguY2VpbChfbWF4WSAvIF9saW5lTnVtKSAqIF9saW5lTnVtO1xyXG4gICAgcmV0dXJuIF9zdGVwO1xyXG59XHJcblxyXG5wdWJsaWMgZ2V0IGdyaWRYU3RlcCgpOiBudW1iZXIge1xyXG4gICAgY29uc3QgX21heFggPSBNYXRoLmNlaWwodGhpcy5tYXhYVmFsdWUgLyAxMDApICogMTA7XHJcbiAgICBjb25zdCBfbGluZU51bSA9IDEwO1xyXG4gICAgY29uc3QgX3N0ZXAgPSBNYXRoLmNlaWwoX21heFggLyBfbGluZU51bSkgKiBfbGluZU51bTtcclxuICAgIHJldHVybiBfc3RlcDtcclxufVxyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLS0tLSAgVElUTEUgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5wdWJsaWMgZ2V0IHRpdGxlSW5pdFhQb3MoKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IF94ID0gdGhpcy5jb25maWdEYXRhLm1hcmdpbi5sZWZ0XHJcbiAgICAgICAgICAgICsgKHRoaXMuZ3JhcGhXaWR0aCArIHRoaXMuY29uZmlnRGF0YS5sZWdlbmQudG90YWxXaWR0aCkgLyAyXHJcbiAgICAgICAgICAgICsgdGhpcy5jb25maWdEYXRhLnRpdGxlLmxlZnRNYXJnaW47XHJcbiAgICByZXR1cm4gX3g7XHJcbn1cclxuXHJcbnB1YmxpYyBnZXQgdGl0bGVJbml0WVBvcygpOiBudW1iZXIge1xyXG4gICAgY29uc3QgX3kgPSB0aGlzLmNvbmZpZ0RhdGEubWFyZ2luLnRvcFxyXG4gICAgICAgICAgICArIHRoaXMuY29uZmlnRGF0YS50aXRsZS5oZWlnaHRcclxuICAgICAgICAgICAgLSB0aGlzLmNvbmZpZ0RhdGEudGl0bGUuYm90dG9tTWFyZ2luO1xyXG4gICAgcmV0dXJuIF95O1xyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIC0tLS0gIENPTE9SICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxucHVibGljIGdldCBkZWZhdWx0Q29sb3JGdW5jKCk6IGFueSB7XHJcbiAgICBsZXQgX2NvbG9yOiBhbnk7XHJcbiAgICBpZiAodGhpcy5jb25maWdEYXRhLmNvbG9yLmF1dG8gKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnRGF0YS5jb2xvci5kZWZhdWx0Q29sb3JOdW1iZXIgPT09ICcyMCcpIHtcclxuICAgICAgICAgICAgX2NvbG9yID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MjApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIF9jb2xvciA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTEwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX2NvbG9yO1xyXG59XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBPMkxpbmVEYXRhIHtcclxuY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgZGF0YTogQXJyYXk8bnVtYmVyPixcclxuICAgIHB1YmxpYyBjb2xvcjogc3RyaW5nLFxyXG4gICAgcHVibGljIGRhc2hlZEFycmF5OiBzdHJpbmcsXHJcbiAgICBwdWJsaWMgaW50ZXJwb2xhdGU6IHN0cmluZ1xyXG4gICAgKSB7IH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBPMkxlZ2VuZERhdGEge1xyXG5jb25zdHJ1Y3RvcihcclxuICAgcHVibGljIHRpdGxlOiBzdHJpbmcsXHJcbiAgICBwdWJsaWMgY29sb3I6IHN0cmluZyApIHsgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE8yU2NhdHRlclBsb3REYXRhIHtcclxuY29uc3RydWN0b3IoXHJcbiAgIHB1YmxpYyB4OiBudW1iZXIsXHJcbiAgIHB1YmxpYyB5OiBudW1iZXIsXHJcbiAgIHB1YmxpYyByOiBudW1iZXIgKSB7IH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBPMlN0YWNrQmFyRGF0YSB7XHJcbmNvbnN0cnVjdG9yKFxyXG4gICBwdWJsaWMgeDogc3RyaW5nLFxyXG4gICBwdWJsaWMgeTogbnVtYmVyXHJcbiAgICkgeyB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTzJJZFZhbHVlRGF0YSB7XHJcbmNvbnN0cnVjdG9yKFxyXG4gICBwdWJsaWMgaWQ6IG51bWJlcixcclxuICAgIHB1YmxpYyB2YWx1ZTogbnVtYmVyXHJcbiAgICkgeyB9XHJcblxyXG59XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgTzJLZXlWYWx1ZURhdGEge1xyXG4vLyAgICAgY29uc3RydWN0b3IoXHJcbi8vICAgICAgICBwdWJsaWMga2V5OiBzdHJpbmcsXHJcbi8vIFx0ICAgcHVibGljIHZhbHVlOiBudW1iZXJcclxuLy8gICAgICAgICkgeyB9XHJcbi8vIH1cclxuLy8gZXhwb3J0IGNsYXNzIE8yRGF0ZUtWQXJyYXlEYXRhIHtcclxuLy8gICAgIGNvbnN0cnVjdG9yKFxyXG4vLyAgICAgICAgcHVibGljIGRhdGU6IERhdGUsXHJcbi8vIFx0ICAgcHVibGljIGt2QXJyYXk6IEFycmF5PE8yS2V5VmFsdWVEYXRhPlxyXG4vLyAgICAgICAgKSB7IH1cclxuLy8gfVxyXG4vLyBleHBvcnQgY2xhc3MgTzJEYXRlU3RLVkFycmF5RGF0YSB7XHJcbi8vICAgICBjb25zdHJ1Y3RvcihcclxuLy8gICAgICAgIHB1YmxpYyBkYXRlU3Q6IHN0cmluZyxcclxuLy8gXHQgICBwdWJsaWMga3ZBcnJheTogQXJyYXk8TzJLZXlWYWx1ZURhdGE+XHJcbi8vICAgICAgICApIHsgfVxyXG4vLyB9Il19